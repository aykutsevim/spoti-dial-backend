; PlatformIO Project Configuration for M5Dial SpotiDial Firmware
; https://docs.platformio.org/page/projectconf.html

[env:m5stack-stamps3]
platform = espressif32
board = m5stack-stamps3
framework = arduino

; Build settings
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.flash_mode = qio
board_build.flash_size = 8MB
board_build.partitions = default_8MB.csv

; Upload settings
upload_speed = 921600
monitor_speed = 115200
monitor_filters =
    esp32_exception_decoder
    colorize

; Dependencies
lib_deps =
    ; M5Stack M5Dial Library
    m5stack/M5Dial@^1.0.1

    ; LVGL - UI library
    lvgl/lvgl@^8.3.11

    ; MQTT Client
    knolleary/PubSubClient@^2.8

    ; ArduinoJson for JSON parsing
    bblanchon/ArduinoJson@^6.21.3

    ; WiFi Manager for easy WiFi setup
    tzapu/WiFiManager@^2.0.16-rc.2

; Build flags
build_flags =
    ; LVGL Configuration
    -D LV_CONF_INCLUDE_SIMPLE
    -D LV_USE_LOG=1

    ; M5Dial specific
    -D ARDUINO_M5STACK_DIAL

    ; Debug flags (comment out for production)
    -D CORE_DEBUG_LEVEL=4
    -D DEBUG_ESP_PORT=Serial

    ; WiFi and MQTT
    -D MQTT_MAX_PACKET_SIZE=2048

    ; Display settings
    -D DISPLAY_WIDTH=240
    -D DISPLAY_HEIGHT=240
